{# themes/tema_ta/templates/taxonomy/taxonomy-term.html.twig #}

{% if view_mode == 'teaser' %}
<div class="container">
  <article class="taxonomy-card">
    {% if term.field_image.entity %}
      {% set media = term.field_image.entity %}
      {% if media.field_media_image.entity %}
        <div class="taxonomy-card__image">
          <img
            src="{{ file_url(media.field_media_image.entity.uri.value) }}"
            alt="{{ media.field_media_image.alt }}"
            loading="lazy"
          />
        </div>
      {% endif %}
    {% endif %}

    <div class="taxonomy-card__content">
      <h3 class="taxonomy-card__title">{{ term.name.value }}</h3>

      {% if term.description.value %}
        <p class="taxonomy-card__description">
          {{ term.description.value | truncate(150, true, '...') }}
        </p>
      {% endif %}

      <a href="{{ path('entity.taxonomy_term.canonical', {'taxonomy_term': term.id()}) }}" class="taxonomy-card__link">
        {{ 'Read More'|t }} â†’
      </a>
    </div>
  </article>

{% else %}
  {# Full view #}

  <article class="taxonomy-term-full">
    <h1>{{ term.name.value }}</h1>
    
    {% if term.field_image.entity %}
      {% set media = term.field_image.entity %}
      {% if media.field_media_image.entity %}
        <div class="taxonomy-image">
          <img
            src="{{ file_url(media.field_media_image.entity.uri.value) }}"
            alt="{{ media.field_media_image.alt }}"
          />
        </div>
      {% endif %}
    {% endif %}

    {% if term.description.value %}
      <div class="taxonomy-description">
        {{ term.description.value }}
      </div>
    {% endif %}
  </article>
</div>
{% endif %}
 
